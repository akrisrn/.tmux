# 绑定第二前缀键 {
set -g prefix2 C-a
bind C-a send-prefix -2
# }

# 窗口和窗格从1开始计数 {
set -g base-index 1
setw -g pane-base-index 1
# }

# 自动重命名窗口 {
set -g renumber-windows on
setw -g automatic-rename on
# }

# 设置程序标题栏显示 {
set -g set-titles on
set -g set-titles-string '#h ❐ #S ● #I ○ #P #W'
# }

# 设置编号的显示时间 {
set -g display-panes-time 800
set -g display-time 1000
# }

# 其它窗口有消息的时突出显示
set -g monitor-activity on
# 设置默认终端为256色
set -g default-terminal "screen-256color"
# 设置按下前缀键后等待的时间
set -sg escape-time 10
# 设置和vim共享剪切板
set -g focus-events on
# 鼠标模式下用vim按键移动
setw -g mode-keys vi
# 设置UTF-8编码
setw -qg utf8 on

# 颜色配置 {
set -g pane-border-fg colour238
set -g pane-border-bg colour235

set -g pane-active-border-fg colour51
set -g pane-active-border-bg colour236

set -g message-fg colour232
set -g message-bg colour166
set -g message-attr bold

set -g message-command-fg blue
set -g message-command-bg black

setw -g mode-fg colour196
setw -g mode-bg colour238
setw -g mode-attr bold

setw -g clock-mode-colour colour135
# }

# 状态栏配置 {
set -g status-justify left
set -g status-interval 1
set -g status-position bottom

set -g status-fg colour137
set -g status-bg colour234
set -g status-attr dim
set -g status-right '#[fg=colour233,bg=colour241,bold] %D %a #[fg=colour233,bg=colour245,bold] %T '
set -g status-right-length 50
set -g status-left-length 20

setw -g window-status-current-fg colour81
setw -g window-status-current-bg colour245
setw -g window-status-current-attr bold
setw -g window-status-current-format ' #I#[fg=colour250]:#[fg=colour233]#W#[fg=colour50]#F '

setw -g window-status-fg colour138
setw -g window-status-bg colour235
setw -g window-status-attr none
setw -g window-status-format ' #I#[fg=colour237]:#[fg=colour250]#W#[fg=colour244]#F '

setw -g window-status-bell-fg colour255
setw -g window-status-bell-bg colour1
setw -g window-status-bell-attr bold
# }

# 绑定编辑和重载配置文件快捷键 {
bind e new-window -n '~/.tmux.conf' "sh -c '\${EDITOR:-vim} ~/.tmux.conf && tmux source ~/.tmux.conf && tmux display \"~/.tmux.conf sourced\"'"
bind r source-file ~/.tmux.conf \; display '~/.tmux.conf sourced'
# }

# 绑定切换窗格快捷键 {
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R
# }

# 绑定移动窗格快捷键 {
bind > swap-pane -D
bind < swap-pane -U
# }

# 绑定调整窗格大小快捷键 {
bind -r H resize-pane -L 2
bind -r J resize-pane -D 2
bind -r K resize-pane -U 2
bind -r L resize-pane -R 2
# }

# 绑定切分窗格快捷键 {
bind - split-window -v -c '#{pane_current_path}'
bind _ split-window -h -c '#{pane_current_path}'
# }

# 绑定创建新会话快捷键
bind C-c new-session
# 绑定查找并切换会话快捷键
bind C-f command-prompt -p find-session 'switch-client -t %%'
# 绑定切换鼠标模式快捷键
bind m run "cut -c4- ~/.tmux.conf | sh -s _toggle_mouse"

# tpm插件管理
set -g @plugin 'tmux-plugins/tpm'
run '~/.tmux/plugins/tpm/tpm'

# 相关bash脚本，保持每行前至少留三字符
#  EOF
#
#  # exit the script if any statement returns a non-true return value
#  set -e
#
#  export LC_NUMERIC=C
#
#  _toggle_mouse() {
#    old=$(tmux show -gv mouse)
#    new=""
#
#    if [ "$old" = "on" ]; then
#      new="off"
#    else
#      new="on"
#    fi
#
#    tmux set -g mouse $new \; display "mouse: $new"
#  }
#
#  "$@"
